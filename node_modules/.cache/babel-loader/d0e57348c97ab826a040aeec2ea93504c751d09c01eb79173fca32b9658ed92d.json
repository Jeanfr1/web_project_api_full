{"ast":null,"code":"export class FormValidator{constructor(_ref){let{config,formElement}=_ref;this._config=config;this._formElement=formElement;this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector));this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector);}_showInputError(inputElement,errorMessage){const errorElement=this._formElement.querySelector(`#${inputElement.id} + .${this._config.errorClass}`);inputElement.classList.add(this._config.inputErrorClass);errorElement.textContent=errorMessage;errorElement.classList.add(this._config.errorClassVisible);}_hideInputError(inputElement){const errorElement=this._formElement.querySelector(`#${inputElement.id} + .${this._config.errorClass}`);inputElement.classList.remove(this._config.inputErrorClass);errorElement.classList.remove(this._config.errorClassVisible);errorElement.textContent=\"\";}_checkInputValidity(inputElement){if(!inputElement.validity.valid){this._showInputError(inputElement,inputElement.validationMessage);}else{this._hideInputError(inputElement);}}_hasInvalidInput(){return this._inputList.some(inputElement=>!inputElement.validity.valid);}_toggleButtonState(){if(this._hasInvalidInput()){this._buttonElement.classList.add(this._config.inactiveButtonClass);this._buttonElement.setAttribute(\"disabled\",true);}else{this._buttonElement.classList.remove(this._config.inactiveButtonClass);this._buttonElement.removeAttribute(\"disabled\");}}_setEventListeners(){this._toggleButtonState();this._inputList.forEach(inputElement=>{inputElement.addEventListener(\"input\",()=>{this._checkInputValidity(inputElement);this._toggleButtonState();});});}enableValidation(){this._formElement.addEventListener(\"submit\",evt=>{evt.preventDefault();});this._setEventListeners();}resetValidation(){this._inputList.forEach(inputElement=>{this._hideInputError(inputElement);});this._toggleButtonState();}}export const formConfig={formSelector:\".popup__form\",inputSelector:\".popup__input-text\",submitButtonSelector:\".popup__input-submit\",inactiveButtonClass:\"popup__input-disabled\",inputErrorClass:\"popup__input_type_error\",errorClass:\"popup__error\",errorClassVisible:\"popup__error_visible\"};export const formConfigAuth={formSelector:\".auth__form\",inputSelector:\".auth__input\",submitButtonSelector:\".auth__button\",inactiveButtonClass:\"auth__button-disabled\",inputErrorClass:\"popup__input_type_error\",errorClass:\"popup__error\",errorClassVisible:\"popup__error_visible\"};","map":{"version":3,"names":["FormValidator","constructor","_ref","config","formElement","_config","_formElement","_inputList","Array","from","querySelectorAll","inputSelector","_buttonElement","querySelector","submitButtonSelector","_showInputError","inputElement","errorMessage","errorElement","id","errorClass","classList","add","inputErrorClass","textContent","errorClassVisible","_hideInputError","remove","_checkInputValidity","validity","valid","validationMessage","_hasInvalidInput","some","_toggleButtonState","inactiveButtonClass","setAttribute","removeAttribute","_setEventListeners","forEach","addEventListener","enableValidation","evt","preventDefault","resetValidation","formConfig","formSelector","formConfigAuth"],"sources":["/Users/marielaidin/Desktop/web_project_api_full/src/utils/formValidator.js"],"sourcesContent":["export class FormValidator {\n  constructor({ config, formElement }) {\n    this._config = config;\n    this._formElement = formElement;\n    this._inputList = Array.from(\n      this._formElement.querySelectorAll(this._config.inputSelector)\n    );\n    this._buttonElement = this._formElement.querySelector(\n      this._config.submitButtonSelector\n    );\n  }\n\n  _showInputError(inputElement, errorMessage) {\n    const errorElement = this._formElement.querySelector(\n      `#${inputElement.id} + .${this._config.errorClass}`\n    );\n    inputElement.classList.add(this._config.inputErrorClass);\n    errorElement.textContent = errorMessage;\n    errorElement.classList.add(this._config.errorClassVisible);\n  }\n\n  _hideInputError(inputElement) {\n    const errorElement = this._formElement.querySelector(\n      `#${inputElement.id} + .${this._config.errorClass}`\n    );\n    inputElement.classList.remove(this._config.inputErrorClass);\n    errorElement.classList.remove(this._config.errorClassVisible);\n    errorElement.textContent = \"\";\n  }\n\n  _checkInputValidity(inputElement) {\n    if (!inputElement.validity.valid) {\n      this._showInputError(inputElement, inputElement.validationMessage);\n    } else {\n      this._hideInputError(inputElement);\n    }\n  }\n\n  _hasInvalidInput() {\n    return this._inputList.some((inputElement) => !inputElement.validity.valid);\n  }\n\n  _toggleButtonState() {\n    if (this._hasInvalidInput()) {\n      this._buttonElement.classList.add(this._config.inactiveButtonClass);\n      this._buttonElement.setAttribute(\"disabled\", true);\n    } else {\n      this._buttonElement.classList.remove(this._config.inactiveButtonClass);\n      this._buttonElement.removeAttribute(\"disabled\");\n    }\n  }\n\n  _setEventListeners() {\n    this._toggleButtonState();\n    this._inputList.forEach((inputElement) => {\n      inputElement.addEventListener(\"input\", () => {\n        this._checkInputValidity(inputElement);\n        this._toggleButtonState();\n      });\n    });\n  }\n\n  enableValidation() {\n    this._formElement.addEventListener(\"submit\", (evt) => {\n      evt.preventDefault();\n    });\n    this._setEventListeners();\n  }\n\n  resetValidation() {\n    this._inputList.forEach((inputElement) => {\n      this._hideInputError(inputElement);\n    });\n    this._toggleButtonState();\n  }\n}\n\nexport const formConfig = {\n  formSelector: \".popup__form\",\n  inputSelector: \".popup__input-text\",\n  submitButtonSelector: \".popup__input-submit\",\n  inactiveButtonClass: \"popup__input-disabled\",\n  inputErrorClass: \"popup__input_type_error\",\n  errorClass: \"popup__error\",\n  errorClassVisible: \"popup__error_visible\",\n};\n\nexport const formConfigAuth = {\n  formSelector: \".auth__form\",\n  inputSelector: \".auth__input\",\n  submitButtonSelector: \".auth__button\",\n  inactiveButtonClass: \"auth__button-disabled\",\n  inputErrorClass: \"popup__input_type_error\",\n  errorClass: \"popup__error\",\n  errorClassVisible: \"popup__error_visible\",\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}