{"ast":null,"code":"import React from\"react\";import{Link,withRouter}from\"react-router-dom\";import InfoTooltip from\"./InfoTooltip\";import*as auth from\"../utils/auth\";import{FormValidator,formConfigAuth}from\"../utils/formValidator\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class Register extends React.Component{constructor(props){super(props);this.handleChange=e=>{const{name,value}=e.target;this.setState({[name]:value});};this.handleSubmit=e=>{e.preventDefault();const{email,password}=this.state;if(email&&password){auth.register(email,password).then(()=>{this.setState({showModal:true,isSuccess:true,message:\"Vitória! Você foi registrado.\"});setTimeout(()=>{this.props.history.push(\"/signin\");},1500);}).catch(error=>{console.error(\"Erro de registro:\",error);this.setState({showModal:true,isSuccess:false,message:\"Ops, algo deu errado! Por favor, tente novamente.\"});});}};this.closeModal=()=>{this.setState({showModal:false,isSuccess:false,message:\"\"});};this.formRef=/*#__PURE__*/React.createRef();this.state={email:\"\",password:\"\",showModal:false,isSuccess:false,message:\"\"};}componentDidMount(){this.enableValidation();}enableValidation(){this.formValidator=new FormValidator({formElement:this.formRef.current,config:formConfigAuth});this.formValidator.enableValidation();}render(){const{email,password,showModal,isSuccess,message}=this.state;return/*#__PURE__*/_jsxs(\"div\",{className:\"register\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"register__welcome\",children:\"Inscrever-se\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,className:\"auth__form register__form\",ref:this.formRef,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"E-mail\",id:\"email\",name:\"email\",type:\"email\",value:email,onChange:this.handleChange,className:\"auth__input register__input\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"email-error\"}),/*#__PURE__*/_jsx(\"input\",{name:\"password\",type:\"password\",value:password,id:\"password\",onChange:this.handleChange,placeholder:\"Senha\",minLength:6,className:\"auth__input register__input\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error\",id:\"password-error\"}),/*#__PURE__*/_jsx(\"div\",{className:\"register__button-container\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"auth__button register__button\",children:\"Inscrever-se\"})})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"register__signin\",children:[\"J\\xE1 \\xE9 um membro?\",\" \",/*#__PURE__*/_jsx(Link,{className:\"link\",to:\"/signin\",children:\"Fa\\xE7a o Login aqui!\"})]}),/*#__PURE__*/_jsx(InfoTooltip,{isOpen:showModal,onClose:this.closeModal,isSuccess:isSuccess,message:message})]});}}export default withRouter(Register);","map":{"version":3,"names":["React","Link","withRouter","InfoTooltip","auth","FormValidator","formConfigAuth","jsx","_jsx","jsxs","_jsxs","Register","Component","constructor","props","handleChange","e","name","value","target","setState","handleSubmit","preventDefault","email","password","state","register","then","showModal","isSuccess","message","setTimeout","history","push","catch","error","console","closeModal","formRef","createRef","componentDidMount","enableValidation","formValidator","formElement","current","config","render","className","children","onSubmit","ref","placeholder","id","type","onChange","required","minLength","to","isOpen","onClose"],"sources":["/Users/marielaidin/Desktop/web_project_api_full/src/components/Register.js"],"sourcesContent":["import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport * as auth from \"../utils/auth\";\nimport { FormValidator, formConfigAuth } from \"../utils/formValidator\";\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.formRef = React.createRef();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      showModal: false,\n      isSuccess: false,\n      message: \"\",\n    };\n  }\n\n  componentDidMount() {\n    this.enableValidation();\n  }\n\n  enableValidation() {\n    this.formValidator = new FormValidator({\n      formElement: this.formRef.current,\n      config: formConfigAuth,\n    });\n    this.formValidator.enableValidation();\n  }\n\n  handleChange = (e) => {\n    const { name, value } = e.target;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = this.state;\n    if (email && password) {\n      auth\n        .register(email, password)\n        .then(() => {\n          this.setState({\n            showModal: true,\n            isSuccess: true,\n            message: \"Vitória! Você foi registrado.\",\n          });\n          setTimeout(() => {\n            this.props.history.push(\"/signin\");\n          }, 1500);\n        })\n        .catch((error) => {\n          console.error(\"Erro de registro:\", error);\n          this.setState({\n            showModal: true,\n            isSuccess: false,\n            message: \"Ops, algo deu errado! Por favor, tente novamente.\",\n          });\n        });\n    }\n  };\n\n  closeModal = () => {\n    this.setState({\n      showModal: false,\n      isSuccess: false,\n      message: \"\",\n    });\n  };\n\n  render() {\n    const { email, password, showModal, isSuccess, message } = this.state;\n\n    return (\n      <div className=\"register\">\n        <p className=\"register__welcome\">Inscrever-se</p>\n        <form\n          onSubmit={this.handleSubmit}\n          className=\"auth__form register__form\"\n          ref={this.formRef}\n        >\n          <input\n            placeholder=\"E-mail\"\n            id=\"email\"\n            name=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={this.handleChange}\n            className=\"auth__input register__input\"\n            required\n          />\n          <span className=\"popup__error\" id=\"email-error\"></span>\n          <input\n            name=\"password\"\n            type=\"password\"\n            value={password}\n            id=\"password\"\n            onChange={this.handleChange}\n            placeholder=\"Senha\"\n            minLength={6}\n            className=\"auth__input register__input\"\n            required\n          />\n          <span className=\"popup__error\" id=\"password-error\"></span>\n          <div className=\"register__button-container\">\n            <button type=\"submit\" className=\"auth__button register__button\">\n              Inscrever-se\n            </button>\n          </div>\n        </form>\n\n        <p className=\"register__signin\">\n          Já é um membro?{\" \"}\n          <Link className=\"link\" to=\"/signin\">\n            Faça o Login aqui!\n          </Link>\n        </p>\n        <InfoTooltip\n          isOpen={showModal}\n          onClose={this.closeModal}\n          isSuccess={isSuccess}\n          message={message}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Register);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}